
> customer@0.1.0 test
> jest

(node:27020) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
PASS src/__tests__/build/config.test.ts
(node:26112) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:23516) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL src/components/dashboard/DashboardLayout.test.tsx
  ÔùÅ DashboardLayout - Authentication Guard ÔÇ║ should render dashboard when user is authenticated

    TypeError: (0 , _navigation.usePathname) is not a function

      20 |
      21 |     const { user, logout } = useAuth();
    > 22 |     const pathname = usePathname();
         |                                 ^
      23 |     const router = useRouter();
      24 |     const [langMenuOpen, setLangMenuOpen] = useState(false);
      25 |

      at Sidebar (src/components/dashboard/Sidebar.tsx:22:33)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/components/dashboard/DashboardLayout.test.tsx:86:15)

  ÔùÅ DashboardLayout - Authentication Guard ÔÇ║ should redirect with correct locale in URL

    ReferenceError: useParams is not defined

       99 |     it('should redirect with correct locale in URL', async () => {
      100 |         // ARRANGE: Mock Danish locale
    > 101 |         (useParams as jest.Mock).mockReturnValue({ locale: 'da' });
          |          ^
      102 |
      103 |         (useAuth as jest.Mock).mockReturnValue({
      104 |             user: null,

      at Object.useParams (src/components/dashboard/DashboardLayout.test.tsx:101:10)

  ÔùÅ DashboardLayout - Authentication Guard ÔÇ║ should not allow access after logout (user becomes null)

    TypeError: (0 , _navigation.usePathname) is not a function

      20 |
      21 |     const { user, logout } = useAuth();
    > 22 |     const pathname = usePathname();
         |                                 ^
      23 |     const router = useRouter();
      24 |     const [langMenuOpen, setLangMenuOpen] = useState(false);
      25 |

      at Sidebar (src/components/dashboard/Sidebar.tsx:22:33)
      at Object.react_stack_bottom_frame (node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)
      at beginWork (node_modules/react-dom/cjs/react-dom-client.development.js:11778:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16583:35)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/components/dashboard/DashboardLayout.test.tsx:123:36)

(node:22668) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
PASS src/app/[locale]/login/LoginContent.test.tsx
PASS src/app/[locale]/register/RegisterContent.test.tsx (11.48 s)

Test Suites: 1 failed, 3 passed, 4 total
Tests:       3 failed, 20 passed, 23 total
Snapshots:   0 total
Time:        12.513 s
Ran all test suites.
