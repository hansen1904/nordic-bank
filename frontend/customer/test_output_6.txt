
> customer@0.1.0 test
> jest RegisterContent

(node:4168) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
FAIL src/app/[locale]/register/RegisterContent.test.tsx (12.437 s)
  RegisterContent - P1 Registration Tests
    ├ù should successfully register a new customer (2095 ms)
    ÔêÜ should send registration request without authentication (940 ms)
    ÔêÜ should handle registration errors (988 ms)
    ÔêÜ should validate required fields (76 ms)
    ÔêÜ should disable form during registration (904 ms)
    ÔêÜ should use correct locale in redirect URL (913 ms)
    ÔêÜ should accept various username formats (4781 ms)
    ÔêÜ should handle network errors gracefully (944 ms)

  ÔùÅ RegisterContent - P1 Registration Tests ÔÇ║ should successfully register a new customer

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "/en/login"
    Received: "/en/dashboard"

    Number of calls: 1

    Ignored nodes: comments, script, style
    <html>
      <head />
      <body>
        <div>
          <div
            class="registerPage"
          >
            <div
              class="background"
            />
            <div
              class="container registerContainer"
            >
              <div
                class="registerCard"
              >
                <div
                  class="topNav"
                >
                  <a
                    href="/en/login"
                  >
                    <svg
                      aria-hidden="true"
                      class="lucide lucide-arrow-left"
                      fill="none"
                      height="20"
                      stroke="currentColor"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      viewBox="0 0 24 24"
                      width="20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="m12 19-7-7 7-7"
                      />
                      <path
                        d="M19 12H5"
                      />
                    </svg>
                    <span>
                      Login here
                    </span>
                  </a>
                </div>
                <div
                  class="registerFormContainer"
                >
                  <h3
                    class="title"
                  >
                    Create Account
                  </h3>
                  <p
                    class="subtitle"
                  >
                    Join Nordic Bank
                  </p>
                  <form
                    class="form"
                  >
                    <div
                      class="nameRow"
                    >
                      <div
                        class="formGroup"
                      >
                        <label
                          class="formLabel"
                        >
                          first_name_label
                        </label>
                        <div
                          class="inputWrapper"
                        >
                          <svg
                            aria-hidden="true"
                            class="lucide lucide-user inputIcon"
                            fill="none"
                            height="18"
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            viewBox="0 0 24 24"
                            width="18"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"
                            />
                            <circle
                              cx="12"
                              cy="7"
                              r="4"
                            />
                          </svg>
                          <input
                            class="formInput"
                            name="firstName"
                            placeholder="First Name"
                            required=""
                            type="text"
                            value="Test"
                          />
                        </div>
                      </div>
                      <div
                        class="formGroup"
                      >
                        <label
                          class="formLabel"
                        >
                          last_name_label
                        </label>
                        <div
                          class="inputWrapper"
                        >
                          <svg
                            aria-hidden="true"
                            class="lucide lucide-user inputIcon"
                            fill="none"
                            height="18"
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            viewBox="0 0 24 24"
                            width="18"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"
                            />
                            <circle
                              cx="12"
                              cy="7"
                              r="4"
                            />
                          </svg>
                          <input
                            class="formInput"
                            name="lastName"
                            placeholder="Last Name"
                            required=""
                            type="text"
                            value="User"
                          />
                        </div>
                      </div>
                    </div>
                    <div
                      class="formGroup"
                    >
                      <label
                        class="formLabel"
                      >
                        username_label
                      </label>
                      <div
                        class="inputWrapper"
                      >
                        <svg
                          aria-hidden="true"
                          class="lucide lucide-user inputIcon"
                          fill="none"
                          height="18"
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          viewBox="0 0 24 24"
                          width="18"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"
                          />
                          <circle
                            cx="12"
                            cy="7"
                            r="4"
                          />
                        </svg>
                        <input
                          class="formInput"
                          name="username"
                          placeholder="Username"
                          required=""
                          type="text"
                          value="testuser"
                        />
                      </div>
                    </div>
                    <div
                      class="formGroup"
                    >
                      <label
                        class="formLabel"
                      >
                        email_label
                      </label>
                      <div
                        class="inputWrapper"
                      >
                        <svg
                          aria-hidden="true"
                          class="lucide lucide-mail inputIcon"
                          fill="none"
                          height="18"
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          viewBox="0 0 24 24"
                          width="18"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"
                          />
                          <rect
                            height="16"
                            rx="2"
                            width="20"
                            x="2"
                            y="4"
                          />
                        </svg>
                        <input
                          class="formInput"
                          name="email"
                          placeholder="Email"
                          required=""
                          type="email"
                          value="test@example.com"
                        />
                      </div>
                    </div>
                    <div
                      class="formGroup"
                    >
                      <label
                        class="formLabel"
                      >
                        password_label
                      </label>
                      <div
                        class="inputWrapper"
                      >
                        <svg
                          aria-hidden="true"
                          class="lucide lucide-lock inputIcon"
                          fill="none"
                          height="18"
                          stroke="currentColor"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          viewBox="0 0 24 24"
                          width="18"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <rect
                            height="11"
                            rx="2"
                            ry="2"
                            width="18"
                            x="3"
                            y="11"
                          />
                          <path
                            d="M7 11V7a5 5 0 0 1 10 0v4"
                          />
                        </svg>
                        <input
                          class="formInput"
                          minlength="8"
                          name="password"
                          placeholder="Password"
                          required=""
                          type="password"
                          value="Password123!"
                        />
                      </div>
                    </div>
                    <button
                      class="btn btn-primary submitButton"
                      type="submit"
                    >
                      <svg
                        aria-hidden="true"
                        class="lucide lucide-shield-check"
                        fill="none"
                        height="18"
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        style="margin-right: 8px;"
                        viewBox="0 0 24 24"
                        width="18"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"
                        />
                        <path
                          d="m9 12 2 2 4-4"
                        />
                      </svg>
                      Create Account
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </body>
    </html>

      120 |         // Should redirect to login after success
      121 |         await waitFor(() => {
    > 122 |             expect(mockPush).toHaveBeenCalledWith('/en/login');
          |                              ^
      123 |         });
      124 |     });
      125 |

      at toHaveBeenCalledWith (src/app/[locale]/register/RegisterContent.test.tsx:122:30)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 7 passed, 8 total
Snapshots:   0 total
Time:        12.921 s, estimated 13 s
Ran all test suites matching /RegisterContent/i.
